[{"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/index.js":"1","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/reportWebVitals.js":"2","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/App.js":"3","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Home.js":"4","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Landing.js":"5","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Login.js":"6","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Register.js":"7","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/context/UserContext.js":"8","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/ProductDetail.js":"9","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Reviews.js":"10","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Navbar.js":"11","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Cart.js":"12","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/context/ReviewContext.js":"13"},{"size":500,"mtime":1609381924587,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":1609381924589,"results":"16","hashOfConfig":"15"},{"size":4043,"mtime":1610176149215,"results":"17","hashOfConfig":"15"},{"size":636,"mtime":1610147725088,"results":"18","hashOfConfig":"15"},{"size":3122,"mtime":1610175038057,"results":"19","hashOfConfig":"15"},{"size":3010,"mtime":1610148020262,"results":"20","hashOfConfig":"15"},{"size":4423,"mtime":1610175188359,"results":"21","hashOfConfig":"15"},{"size":144,"mtime":1609555892706,"results":"22","hashOfConfig":"15"},{"size":5918,"mtime":1610310742180,"results":"23","hashOfConfig":"15"},{"size":6044,"mtime":1610175226078,"results":"24","hashOfConfig":"15"},{"size":4324,"mtime":1610151531099,"results":"25","hashOfConfig":"15"},{"size":11426,"mtime":1610213480316,"results":"26","hashOfConfig":"15"},{"size":148,"mtime":1610161005173,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1vl4ebo",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/index.js",[],["56","57"],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/reportWebVitals.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/App.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Home.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Landing.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Login.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Register.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/context/UserContext.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/ProductDetail.js",["58"],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Reviews.js",["59"],"import { Rating } from \"@material-ui/lab\";\nimport { TextField, Button, Grid, Paper, Box } from \"@material-ui/core\";\nimport { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport UserContext from \"../context/UserContext\";\nimport ReviewContext from \"../context/ReviewContext\";\n\nfunction Reviews(props) {\n\t//Setting state for the reviews\n\tconst [description, setDescription] = useState(\"\");\n\tconst [stars, setStars] = useState(null);\n\tconst [reviews, setReviews] = useState([]);\n\tconst [update, setUpdate] = useState(false);\n\n\t//Retrieve the userContext to store name associated with comments\n\tconst userContext = useContext(UserContext);\n\n\t//Retrieve the reviewContext\n\tconst reviewContext = useContext(ReviewContext);\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tasync function getReviews() {\n\t\t\ttry {\n\t\t\t\t//Retrieving the already existing reviews from the database for the particular product\n\t\t\t\tconst reviews = await axios.get(`/reviews/${props.productId}`, {\n\t\t\t\t\theaders: { \"auth-token\": localStorage.getItem(\"auth-token\") },\n\t\t\t\t});\n\n\t\t\t\t//Setting the reviews to state\n\t\t\t\tif (mounted) {\n\t\t\t\t\tsetReviews(reviews.data.data);\n\t\t\t\t}\n\n\t\t\t\t//Getting the number of reviews for a given product. This will display beside the ratings section\n\t\t\t\tconst numberOfReviews = reviews.data.data.length;\n\n\t\t\t\t//Setting number of reviews to review context\n\t\t\t\treviewContext.setNumOfReviews(numberOfReviews);\n\n\t\t\t\t//Getting the total number of stars in each review, dividing it below by the number of reviews to get an average\n\t\t\t\tlet totalStars = 0;\n\t\t\t\tfor (let i = 0; i < numberOfReviews; ++i) {\n\t\t\t\t\ttotalStars += reviews.data.data[i].stars;\n\t\t\t\t}\n\n\t\t\t\t//Case if there aren't any reviews\n\t\t\t\tif (totalStars === 0) {\n\t\t\t\t\tif (mounted) {\n\t\t\t\t\t\treviewContext.setAverageStars(0);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//Rounding the average to 2 decimal places\n\t\t\t\t\tconst average =\n\t\t\t\t\t\tMath.round((totalStars / numberOfReviews) * 100) / 100;\n\n\t\t\t\t\tif (mounted) {\n\t\t\t\t\t\treviewContext.setAverageStars(average);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error.message);\n\t\t\t}\n\t\t}\n\t\tgetReviews();\n\t\treturn () => {\n\t\t\tmounted = false;\n\t\t};\n\t}, [update]);\n\n\t//Function to handle the submission of a review\n\tasync function handleSubmit() {\n\t\ttry {\n\t\t\t//Getting a date string\n\t\t\tconst options = {\n\t\t\t\tweekday: \"long\",\n\t\t\t\tyear: \"numeric\",\n\t\t\t\tmonth: \"long\",\n\t\t\t\tday: \"numeric\",\n\t\t\t};\n\t\t\tconst today = new Date();\n\t\t\tconst date = today.toLocaleDateString(\"en-US\", options);\n\n\t\t\t//Setting the request data\n\t\t\tconst data = {\n\t\t\t\tdescription,\n\t\t\t\tstars,\n\t\t\t\tdate,\n\t\t\t\tproductId: props.productId,\n\t\t\t\tusername: userContext.userInfo.username,\n\t\t\t};\n\n\t\t\t//Adding a review to the database\n\t\t\tawait axios.post(\"/reviews/add\", data, {\n\t\t\t\theaders: { \"auth-token\": localStorage.getItem(\"auth-token\") },\n\t\t\t});\n\n\t\t\t//Resetting state values\n\t\t\tsetDescription(\"\");\n\t\t\tsetStars(0);\n\n\t\t\t//This changes the update state, which will trigger the useEffect hook and re-render the reviews.\n\t\t\tsetUpdate(!update);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message);\n\t\t}\n\t}\n\n\t//Handles a post delete\n\tasync function handleDelete(e) {\n\t\ttry {\n\t\t\t//Retrieving the review ID from the button that was clicked\n\t\t\tconst id = e.currentTarget.getAttribute(\"reviewid\");\n\n\t\t\t//Deleting the review from the database\n\t\t\tawait axios.delete(`/reviews/${id}`, {\n\t\t\t\theaders: { \"auth-token\": localStorage.getItem(\"auth-token\") },\n\t\t\t});\n\n\t\t\t//To make sure the reviews re-render, we call the update state\n\t\t\tsetUpdate(!update);\n\t\t} catch (error) {\n\t\t\tconsole.log(error.message);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div style={{ paddingTop: \"20px\" }}>\n\t\t\t{/* Section for creating a reviews*/}\n\n\t\t\t<h1>Reviews</h1>\n\t\t\t<h2>Add a review</h2>\n\t\t\t<p>Describe your experience with the product:</p>\n\t\t\t<TextField\n\t\t\t\tlabel=\"Review\"\n\t\t\t\tmultiline\n\t\t\t\trowsMax={10}\n\t\t\t\trows={5}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tvalue={description}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tsetDescription(e.target.value);\n\t\t\t\t}}\n\t\t\t\tstyle={{ width: \"50%\" }}\n\t\t\t/>\n\t\t\t<br />\n\t\t\t<p>Rate the product:</p>\n\t\t\t<Rating\n\t\t\t\tsize=\"large\"\n\t\t\t\tname=\"half-rating\"\n\t\t\t\tvalue={stars}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tsetStars(e.target.value);\n\t\t\t\t}}\n\t\t\t\tdefaultValue={0}\n\t\t\t\tprecision={0.5}\n\t\t\t/>\n\n\t\t\t{/* Submit button */}\n\t\t\t<Box display=\"block\" paddingTop=\"15px\">\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={handleSubmit}>\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<h1 style={{ paddingTop: \"40px\" }}>User Reviews</h1>\n\t\t\t{/* Section for displaying the reviews*/}\n\t\t\t<Grid\n\t\t\t\tdirection=\"column-reverse\"\n\t\t\t\tcontainer\n\t\t\t\talignItems=\"center\"\n\t\t\t\tspacing={5}\n\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t>\n\t\t\t\t{/* Mapping the review state, displaying each review seperately*/}\n\t\t\t\t{reviews.map((review) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid item lg={12} key={review._id} style={{ width: \"90%\" }}>\n\t\t\t\t\t\t\t<Paper elevation={5}>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twordWrap: \"break-word\",\n\t\t\t\t\t\t\t\t\t\tpadding: \"10px\",\n\t\t\t\t\t\t\t\t\t\ttextAlign: \"left\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p style={{ fontWeight: \"bold\" }}>{`@${review.username}`}</p>\n\t\t\t\t\t\t\t\t\t<p>{`\"${review.description}\"`}</p>\n\t\t\t\t\t\t\t\t\t<Rating readOnly value={review.stars} precision={0.5} />\n\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontStyle: \"italic\" }}\n\t\t\t\t\t\t\t\t\t>{`Posted on ${review.date}`}</p>\n\n\t\t\t\t\t\t\t\t\t{/* Delete button that only renders if the post username is equal to the username of the \n                                    user that's signed in. the post id is stored in an attribute, and retrieved in the handleDelete f\n                                    unction*/}\n\n\t\t\t\t\t\t\t\t\t{review.username === userContext.userInfo.username && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t\t\t\t\t\treviewid={review._id}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tDelete Review\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Grid>\n\t\t\t{reviews.length === 0 && (\n\t\t\t\t<p style={{ padding: \"20px 0px\" }}>\n\t\t\t\t\tThere are no reviews. Be the first person to post a review!\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Reviews;\n","/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Navbar.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/components/Cart.js",[],"/Users/connorbechthold/Documents/React-Projects/ecommerce/client/src/context/ReviewContext.js",[],{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":null,"fatal":true,"severity":2,"message":"64","line":34,"column":2},{"ruleId":"65","severity":1,"message":"66","line":69,"column":5,"nodeType":"67","endLine":69,"endColumn":13,"suggestions":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"Parsing error: Unexpected token\n\n\u001b[0m \u001b[90m 32 | \u001b[39m\t\tasync \u001b[36mfunction\u001b[39m getProduct() {\u001b[0m\n\u001b[0m \u001b[90m 33 | \u001b[39m\t\t\t\u001b[36mtry\u001b[39m {\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 | \u001b[39m\u001b[33m<<\u001b[39m\u001b[33m<<\u001b[39m\u001b[33m<<\u001b[39m\u001b[33m<\u001b[39m \u001b[33mHEAD\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m    | \u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 35 | \u001b[39m\t\t\t\t\u001b[90m//Takes user to top of page when link is clicked\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 36 | \u001b[39m\t\t\t\twindow\u001b[33m.\u001b[39mscrollTo(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m \u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 37 | \u001b[39m\u001b[0m","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'props.productId' and 'reviewContext'. Either include them or remove the dependency array.","ArrayExpression",["71"],"no-global-assign","no-unsafe-negation",{"desc":"72","fix":"73"},"Update the dependencies array to be: [props.productId, reviewContext, update]",{"range":"74","text":"75"},[2148,2156],"[props.productId, reviewContext, update]"]